/*
 * Vige, Home of Professional Open Source
 * Copyright 2010, Vige, and individual contributors
 * by the @authors tag. See the copyright.txt in the distribution for a
 * full listing of individual contributors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package it.vige.magazzino.test.hexcodes;

import static it.vige.magazzino.test.Utils.tempFile;
import static it.vige.magazzino.test.Utils.toHexString;
import it.vige.magazzino.model.Article;
import it.vige.magazzino.test.mock.ArticleMock;

import org.junit.Assert;
import org.junit.Test;

/**
 * @author <a href="http://www.vige.it">Luca Stancapiano</a>
 */
public class HexArticleTest implements ArticleMock {

	static final String[] hexCodes = {
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e00017870740006363536353635740006363735373635740005323334323374000638393839383974000333323374000d6465736372697074696f6e203174000332333274000536373534357400086d616b696e67203174000533343533347400076e6f74657320317400073536343635343174000632333432333474000a70726f7669646572203174000336353674000335343571007e000f74000333323274000435343534740004333233327400043332313371007e0014",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e00017870740005323331333174000534333234327400043536373574000432313231740002323274000d6465736372697074696f6e20327400033635367400063334353334357400086d616b696e6720327400063837363836377400076e6f746573203274000638373837383274000637383638363774000a70726f7669646572203274000734333234363533740004353434337400063231323130307400043635343674000434333433740006373635373234740007373536373536377400053635343333",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e0001787074000436343632740005373634373574000435313336740004333435337400043433343374000d6465736372697074696f6e2033740005363536343574000535333433367400086d616b696e6720337400063634353237327400076e6f74657320337400063433343334337400073637353433383274000a70726f76696465722033740003343334740004363435367400053635343632740004353433317400053533343737740006353334353132740005363534373274000734323334343233",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e000178707400053635343637740006363534363737740006373435373337740006363533373234740002333274000d6465736372697074696f6e20347400063533343533347400033635357400086d616b696e67203474000535333435367400076e6f746573203474000734353435343534740008373635373436353374000a70726f76696465722034740006373635373635740004363534367400073534333536363771007e001171007e000c71007e00037400063735363733377400053635343634",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e0001787074000735333435333435740004353436367400073634353635343674000731323334333134740005353433343374000d6465736372697074696f6e20357400033433347400093432333432333432337400086d616b696e672035740007343233343332347400076e6f746573203574000633343334333574000635343635343674000a70726f7669646572203574000636353635343574000436353635740005343234333474000533343533367400053634353633740003323334740006363534363435740003353435",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e000178707400073433323432333574000535333435337400053432333432740006313233353233740005353435333374000d6465736372697074696f6e2036740006343233343233740004343335357400086d616b696e6720367400063533343534337400076e6f746573203674000633343334333674000636343536353474000a70726f7669646572203674000636353436353474000334333571007e000574000336353674000635333435333471007e000f74000634333234303071007e000c",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e00017870740006373433343233740006363735373635740004343233347400043632313374000336363474000d6465736372697074696f6e203774000332333274000536373534357400086d616b696e67203774000534323335367400076e6f746573203774000637363736373774000632333432333474000a70726f7669646572203774000336353674000335343571007e000f740003333232740004353435347400043332333274000635333435363771007e0014",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e00017870740005323334323374000536343536347400063735363736357400063536373536377400043333323274000d6465736372697074696f6e203874000335333574000535333435337400086d616b696e67203874000536353436347400076e6f74657320387400063435343534387400043736353774000a70726f76696465722038740004363435367400053836373836740005343233343271007e000f740004353433357400043735363774000435343534740006373536373536",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e00017870740004353433357400053634353634740006363435363435740008383736383736333474000337343474000d6465736372697074696f6e203974000635333435343374000534323334337400086d616b696e6720397400063234333432337400076e6f7465732039740005353635363974000636343536353474000a70726f766964657220397400053532353234740005383637383574000634323430303074000435333435740005363534363574000434323334740005363533343671007e0015",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e0001787074000735343335333434740007383736373835367400083436353736343736740004333232327400043332333374000e6465736372697074696f6e20313074000534323334327400063432333432337400096d616b696e67203130740004343334337400086e6f74657320313074000634333433313074000636343536353474000b70726f7669646572203130740003353535740005343434333371007e00097400043534353474000332323271007e00117400043332333274000737363536373535",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e0001787074000434323432740003363333740003323232740008333436353536373374000636353437343574000e6465736372697074696f6e2031317400053233343233740007353334353436357400096d616b696e672031317400033535357400086e6f746573203131740006333433343131740005353433353674000b70726f76696465722031317400043534333574000536353436357400063533343533367400043234323374000537343637357400063533343534337400053334333333740006363435363435",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e000178707400053635343636740003343434740006353334353433740003363633740002353474000e6465736372697074696f6e20313274000533333534337400063435363435367400096d616b696e67203132740004353433337400086e6f746573203132740006383938393132740005343233343274000b70726f76696465722031327400053738383738740004343234327400063737373030307400033333337400033535357400043536373471007e00127400083432333433323332",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e00017870740004343536377400053533343537740006353334363734740005373332363774000336353774000e6465736372697074696f6e2031337400013574000535333436377400096d616b696e67203133740004383736357400086e6f7465732031337400063334333431337400043533343674000b70726f766964657220313374000536353636367400043533343574000537363437357400053533343533740004363534367400063736353734367400043736353474000435343335",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e000178707400043437353374000536343536347400053432333433740005323333333374000333333274000e6465736372697074696f6e203134740005343232333574000536373534357400096d616b696e6720313474000533343533347400086e6f7465732031347400073738373837313474000632333432333474000b70726f766964657220313474000534323334327400043233343271007e000f7400033332327400043534353474000433323332740006363435363435740006363435363533",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e00017870740005353334353374000636373537363574000532333432337400073534333533323274000636373734353674000e6465736372697074696f6e20313574000332333274000536373534357400096d616b696e6720313574000533343533347400086e6f7465732031357400073435343534313574000632333432333474000b70726f766964657220313574000336353674000335343571007e000f7400033332327400043534353474000433323332740005333533353671007e0014",
			"aced00057372001f69742e766967652e6d6167617a7a696e6f2e6d6f64656c2e41727469636c65f7a2a98198da384e0200164c0007626172436f64657400124c6a6176612f6c616e672f537472696e673b4c0002636171007e00014c00076361744d65726371007e00014c0004636f646571007e00014c0004636f737471007e00014c000b6465736372697074696f6e71007e00014c00066865616c746871007e00014c0009696d706f6e69626c6571007e00014c00066d616b696e6771007e00014c00036d697371007e00014c00056e6f74657371007e00014c00047061636b71007e00014c00057072697a6571007e00014c000870726f766964657271007e00014c000571746d617871007e00014c000571746d696e71007e00014c00047261746571007e00014c000373633171007e00014c000373633271007e00014c000373633371007e00014c0002756d71007e00014c0006766f6c756d6571007e00017870740004353334357400063637353736357400053734363735740004333333347400043432323474000e6465736372697074696f6e2031367400033233327400063533343633347400096d616b696e672031367400063435363435367400086e6f746573203136740005343434313674000633343533353374000b70726f766964657220313674000336353674000335343574000632333432333474000333323274000435343534740004333233327400043332313371007e0015" };

	@Test
	public void decode() throws Exception {
		verify(article0, hexCodes[0]);
		verify(article1, hexCodes[1]);
		verify(article2, hexCodes[2]);
		verify(article3, hexCodes[3]);
		verify(article4, hexCodes[4]);
		verify(article5, hexCodes[5]);
		verify(article6, hexCodes[6]);
		verify(article7, hexCodes[7]);
		verify(article8, hexCodes[8]);
		verify(article9, hexCodes[9]);
		verify(article10, hexCodes[10]);
		verify(article11, hexCodes[11]);
		verify(article12, hexCodes[12]);
		verify(article13, hexCodes[13]);
		verify(article14, hexCodes[14]);
		verify(article15, hexCodes[15]);
	}

	public Article verify(Article article, String hexCode) throws Exception {
		java.io.ObjectOutputStream oos = new java.io.ObjectOutputStream(
				new java.io.FileOutputStream(tempFile));
		oos.writeObject(article);
		oos.close();
		byte[] bytes = new byte[651];
		java.io.FileInputStream fis = new java.io.FileInputStream(tempFile);
		fis.read(bytes);
		fis.close();
		String result = toHexString(bytes);
		System.out.println(result);
		java.io.ObjectInputStream ois = new java.io.ObjectInputStream(
				new java.io.ByteArrayInputStream(bytes));
		Article articleRead = (Article) ois.readObject();
		Assert.assertEquals(articleRead.getDescription(),
				article.getDescription());
		Assert.assertEquals(result, hexCode);
		ois.close();
		return articleRead;
	}
}
